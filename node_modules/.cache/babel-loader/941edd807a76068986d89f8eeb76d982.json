{"ast":null,"code":"import { toDoListAPI } from \"../API/api\";\nimport { updateObjectInArray } from \"../utils/objectHelpers\";\nconst GET_LISTS = \"network/toDoLists/GET_LISTS\";\nconst ADD_NEW_LIST = \"network/toDoLists/ADD_NEW_LIST\";\nconst DELETE_LIST = \"network/toDoLists/DELETE_LIST\";\nconst UPDATE_LIST_TITLE = \"network/toDoLists/UPDATE_LIST_TITLE\";\nconst GET_TASKS = \"network/toDoLists/GET_TASKS\";\nlet initialisation = {\n  toDoLists: []\n};\n\nconst todoListReducer = (state = initialisation, action) => {\n  switch (action.type) {\n    case GET_LISTS:\n      {\n        return { ...state,\n          toDoLists: action.lists\n        };\n      }\n\n    case ADD_NEW_LIST:\n      {\n        return { ...state,\n          toDoLists: [...state.toDoLists, action.newList]\n        };\n      }\n\n    case DELETE_LIST:\n      {\n        return { ...state,\n          toDoLists: state.toDoLists.filter(l => l.id !== action.listId)\n        };\n      }\n\n    case UPDATE_LIST_TITLE:\n      {\n        return { ...state,\n          toDoLists: updateObjectInArray(state.toDoLists, \"id\", action.listId, {\n            title: action.title\n          })\n        };\n      }\n\n    case GET_TASKS:\n      {\n        return {};\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const getLists = lists => ({\n  type: GET_LISTS,\n  lists\n});\nexport const addNewList = newList => ({\n  type: ADD_NEW_LIST,\n  newList\n});\nexport const removeList = listId => ({\n  type: DELETE_LIST,\n  listId\n});\nexport const updateListTitle = (listId, title) => ({\n  type: UPDATE_LIST_TITLE,\n  listId,\n  title\n});\nexport const getTasks = (listId, tasksList) => ({\n  type: GET_TASKS,\n  listId,\n  tasksList\n});\nexport const getToDoLists = () => async dispatch => {\n  const response = await toDoListAPI.getAllLists();\n  dispatch(getLists(response.data));\n};\nexport const createNewList = title => async dispatch => {\n  const response = await toDoListAPI.createNewList(title);\n  dispatch(addNewList(response.data));\n};\nexport const deleteList = listId => async dispatch => {\n  const response = await toDoListAPI.deleteList(listId);\n\n  if (response.resultCode === 0) {\n    dispatch(removeList(listId));\n  }\n};\nexport const updateList = (listId, title) => async dispatch => {\n  const response = await toDoListAPI.updateList(listId, title);\n  dispatch(updateListTitle(listId, title));\n};\nexport const reorderLists = (listId, purAfterItemId) => async dispatch => {\n  const response = await toDoListAPI.reorderList(listId, purAfterItemId);\n\n  if (response.resultCode === 0) {// dispatch(stId,\n  }\n};\nexport const getTasksForList = (listId, count, page) => async dispatch => {\n  const response = await toDoListAPI.getPortionTasksForList(listId, count, page);\n  dispatch(getTasks(listId, response.data));\n};\nexport default todoListReducer;","map":{"version":3,"sources":["D:/react/net/project1/src/Redux/todoListReducer.js"],"names":["toDoListAPI","updateObjectInArray","GET_LISTS","ADD_NEW_LIST","DELETE_LIST","UPDATE_LIST_TITLE","GET_TASKS","initialisation","toDoLists","todoListReducer","state","action","type","lists","newList","filter","l","id","listId","title","getLists","addNewList","removeList","updateListTitle","getTasks","tasksList","getToDoLists","dispatch","response","getAllLists","data","createNewList","deleteList","resultCode","updateList","reorderLists","purAfterItemId","reorderList","getTasksForList","count","page","getPortionTasksForList"],"mappings":"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","sourcesContent":["import {toDoListAPI} from \"../API/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst GET_LISTS = \"network/toDoLists/GET_LISTS\"\r\nconst ADD_NEW_LIST = \"network/toDoLists/ADD_NEW_LIST\"\r\nconst DELETE_LIST = \"network/toDoLists/DELETE_LIST\"\r\nconst UPDATE_LIST_TITLE = \"network/toDoLists/UPDATE_LIST_TITLE\"\r\nconst GET_TASKS = \"network/toDoLists/GET_TASKS\"\r\n\r\nlet initialisation = {\r\n    toDoLists: [],\r\n}\r\n\r\nconst todoListReducer = (state = initialisation, action) => {\r\n    switch (action.type) {\r\n        case GET_LISTS: {\r\n            return {\r\n                ...state,\r\n                toDoLists: action.lists,\r\n            }\r\n        }\r\n        case ADD_NEW_LIST: {\r\n            return {\r\n                ...state,\r\n                toDoLists: [...state.toDoLists, action.newList]\r\n            }\r\n        }\r\n        case DELETE_LIST: {\r\n            return {\r\n                ...state,\r\n                toDoLists: state.toDoLists.filter(l => l.id !== action.listId)\r\n            }\r\n        }\r\n        case UPDATE_LIST_TITLE:{\r\n            return{\r\n                ...state,\r\n                toDoLists: updateObjectInArray(state.toDoLists, \"id\", action.listId, {title:action.title})\r\n            }\r\n        }\r\n        case GET_TASKS:{\r\n            return{\r\n                \r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const getLists = (lists) => ({type: GET_LISTS, lists})\r\n\r\nexport const addNewList = (newList) => ({type: ADD_NEW_LIST, newList})\r\n\r\nexport const removeList = (listId) => ({type: DELETE_LIST, listId})\r\n\r\nexport const updateListTitle = (listId, title) => ({type: UPDATE_LIST_TITLE, listId, title})\r\n\r\nexport const getTasks = (listId, tasksList) => ({type: GET_TASKS, listId, tasksList})\r\n\r\nexport const getToDoLists = () => async (dispatch) => {\r\n    const response = await toDoListAPI.getAllLists();\r\n    dispatch(getLists(response.data))\r\n}\r\nexport const createNewList = (title) => async (dispatch) => {\r\n    const response = await toDoListAPI.createNewList(title);\r\n    dispatch(addNewList(response.data))\r\n}\r\nexport const deleteList = (listId) => async (dispatch) => {\r\n    const response = await toDoListAPI.deleteList(listId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(removeList(listId))\r\n    }\r\n}\r\nexport const updateList = (listId, title) => async (dispatch) => {\r\n    const response = await toDoListAPI.updateList(listId, title);\r\n    dispatch(updateListTitle(listId, title))\r\n}\r\n\r\nexport const reorderLists= (listId, purAfterItemId) => async (dispatch) => {\r\n    const response = await toDoListAPI.reorderList(listId, purAfterItemId);\r\n    if(response.resultCode === 0 ){\r\n        // dispatch(stId,\r\n    }\r\n}\r\n\r\nexport const getTasksForList = (listId, count, page) => async (dispatch) => {\r\n    const response = await toDoListAPI.getPortionTasksForList(listId, count, page);\r\n    dispatch(getTasks(listId, response.data))\r\n}\r\n\r\n\r\nexport default todoListReducer\r\n"]},"metadata":{},"sourceType":"module"}