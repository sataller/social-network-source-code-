{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\react\\\\net\\\\project1\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\react\\\\net\\\\project1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:\\\\react\\\\net\\\\project1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{dialogsAPI,usersAPI}from\"../API/api\";var SET_AUTHORIZED_USER_PROFILE=\"network/header/SET_AUTHORIZED_USER_PROFILE\";var UPDATE_NEW_MESSAGES_COUNT=\"network/header/UPDATE_NEW_MESSAGES_COUNT\";var initialize={authUserProfile:null,newMessagesCount:null};var headerReducer=function headerReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialize;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_AUTHORIZED_USER_PROFILE:{return _objectSpread({},state,{authUserProfile:action.userProfile});}case UPDATE_NEW_MESSAGES_COUNT:{return _objectSpread({},state,{newMessagesCount:action.newMessagesCount});}default:return state;}};var setAuthorizedProfile=function setAuthorizedProfile(userProfile){return{type:SET_AUTHORIZED_USER_PROFILE,userProfile:userProfile};};var updateNewMessagesCount=function updateNewMessagesCount(newMessagesCount){return{type:UPDATE_NEW_MESSAGES_COUNT,newMessagesCount:newMessagesCount};};export var getAuthUserInform=function getAuthUserInform(userId){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return usersAPI.setUsers(userId);case 2:response=_context.sent;dispatch(setAuthorizedProfile(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export var displayNewMessages=function displayNewMessages(){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dialogsAPI.getNewMessages();case 2:response=_context2.sent;dispatch(updateNewMessagesCount(response.data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};export default headerReducer;","map":{"version":3,"sources":["D:/react/net/project1/src/Redux/headerReducer.js"],"names":["dialogsAPI","usersAPI","SET_AUTHORIZED_USER_PROFILE","UPDATE_NEW_MESSAGES_COUNT","initialize","authUserProfile","newMessagesCount","headerReducer","state","action","type","userProfile","setAuthorizedProfile","updateNewMessagesCount","getAuthUserInform","userId","dispatch","setUsers","response","data","displayNewMessages","getNewMessages"],"mappings":"sUAAA,OAAQA,UAAR,CAAoBC,QAApB,KAAmC,YAAnC,CAEA,GAAMC,CAAAA,2BAA2B,CAAG,4CAApC,CACA,GAAMC,CAAAA,yBAAyB,CAAG,0CAAlC,CAGA,GAAIC,CAAAA,UAAU,CAAG,CACbC,eAAe,CAAE,IADJ,CAEbC,gBAAgB,CAAC,IAFJ,CAAjB,CAKA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAgC,IAA/BC,CAAAA,KAA+B,2DAAvBJ,UAAuB,IAAXK,CAAAA,MAAW,2CAClD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKR,CAAAA,2BAAL,CAAkC,CAC9B,wBAAWM,KAAX,EAAkBH,eAAe,CAAEI,MAAM,CAACE,WAA1C,GACH,CACD,IAAKR,CAAAA,yBAAL,CAA+B,CAC3B,wBACOK,KADP,EAEIF,gBAAgB,CAAEG,MAAM,CAACH,gBAF7B,GAIH,CACD,QACI,MAAOE,CAAAA,KAAP,CAXR,CAaH,CAdD,CAgBA,GAAMI,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACD,WAAD,QAAkB,CAACD,IAAI,CAAER,2BAAP,CAAoCS,WAAW,CAAXA,WAApC,CAAlB,EAA7B,CAEA,GAAME,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACP,gBAAD,QAAuB,CAACI,IAAI,CAAEP,yBAAP,CAAkCG,gBAAgB,CAAhBA,gBAAlC,CAAvB,EAA/B,CAEA,MAAO,IAAMQ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,MAAD,kGAAY,iBAAOC,QAAP,qJAClBf,CAAAA,QAAQ,CAACgB,QAAT,CAAkBF,MAAlB,CADkB,QACnCG,QADmC,eAEzCF,QAAQ,CAACJ,oBAAoB,CAACM,QAAQ,CAACC,IAAV,CAArB,CAAR,CAFyC,sDAAZ,iEAA1B,CAKP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,oGAAM,kBAAOJ,QAAP,0JACdhB,CAAAA,UAAU,CAACqB,cAAX,EADc,QAC/BH,QAD+B,gBAEpCF,QAAQ,CAACH,sBAAsB,CAACK,QAAQ,CAACC,IAAV,CAAvB,CAAR,CAFoC,wDAAN,mEAA3B,CAKP,cAAeZ,CAAAA,aAAf","sourcesContent":["import {dialogsAPI, usersAPI} from \"../API/api\";\r\n\r\nconst SET_AUTHORIZED_USER_PROFILE = \"network/header/SET_AUTHORIZED_USER_PROFILE\";\r\nconst UPDATE_NEW_MESSAGES_COUNT = \"network/header/UPDATE_NEW_MESSAGES_COUNT\";\r\n\r\n\r\nlet initialize = {\r\n    authUserProfile: null,\r\n    newMessagesCount:null,\r\n}\r\n\r\nconst headerReducer = (state = initialize, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTHORIZED_USER_PROFILE: {\r\n            return {...state, authUserProfile: action.userProfile}\r\n        }\r\n        case UPDATE_NEW_MESSAGES_COUNT:{\r\n            return{\r\n                ...state,\r\n                newMessagesCount: action.newMessagesCount,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setAuthorizedProfile = (userProfile) => ({type: SET_AUTHORIZED_USER_PROFILE, userProfile})\r\n\r\nconst updateNewMessagesCount = (newMessagesCount) => ({type: UPDATE_NEW_MESSAGES_COUNT, newMessagesCount})\r\n\r\nexport const getAuthUserInform = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.setUsers(userId)\r\n    dispatch(setAuthorizedProfile(response.data))\r\n}\r\n\r\nexport const displayNewMessages = () => async (dispatch) =>{\r\n   const response = await dialogsAPI.getNewMessages()\r\n    dispatch(updateNewMessagesCount(response.data))\r\n}\r\n\r\nexport default headerReducer"]},"metadata":{},"sourceType":"module"}